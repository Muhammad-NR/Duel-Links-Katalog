{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Rizky/Downloads/yu-gi-oh-duel-links-catalog/components/header.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useRouter, useSearchParams, usePathname } from \"next/navigation\"\r\nimport Link from \"next/link\"\r\nimport { Search, Filter, X } from \"lucide-react\"\r\n\r\nexport function Header() {\r\n  const router = useRouter()\r\n  const searchParams = useSearchParams()\r\n  const pathname = usePathname()\r\n\r\n  // State untuk nilai search & filter\r\n  const [searchQuery, setSearchQuery] = useState(\"\")\r\n  const [selectedType, setSelectedType] = useState(\"all\")\r\n\r\n  // Sinkronisasi State dengan URL (Biar kalau di-refresh tetep ada)\r\n  useEffect(() => {\r\n    const q = searchParams.get(\"q\") || \"\"\r\n    const type = searchParams.get(\"type\") || \"all\"\r\n    setSearchQuery(q)\r\n    setSelectedType(type)\r\n  }, [searchParams])\r\n\r\n  // Fungsi Jalanin Search/Filter\r\n  const handleUpdateParams = (newSearch: string, newType: string) => {\r\n    // Kalau user lagi BUKAN di halaman cards, paksa pindah ke /cards\r\n    if (pathname !== \"/cards\") {\r\n      router.push(`/cards?q=${newSearch}&type=${newType}`)\r\n      return\r\n    }\r\n    \r\n    // Kalau udah di /cards, update URL aja (shallow routing)\r\n    router.replace(`/cards?q=${newSearch}&type=${newType}`)\r\n  }\r\n\r\n  const onSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const val = e.target.value\r\n    setSearchQuery(val)\r\n    handleUpdateParams(val, selectedType)\r\n  }\r\n\r\n  const onTypeChange = (type: string) => {\r\n    setSelectedType(type)\r\n    handleUpdateParams(searchQuery, type)\r\n  }\r\n\r\n  return (\r\n    <header className=\"fixed top-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-md border-b border-white/10 shadow-xl pt-safe\">\r\n      <div className=\"max-w-6xl mx-auto px-4 py-3\">\r\n        <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n          \r\n          <Link href=\"/\" className=\"flex-shrink-0 group\">\r\n            <img \r\n              src=\"/YuGiOh_Duel_Links.png\" \r\n              alt=\"Yu-Gi-Oh! Catalog\" \r\n              className=\"h-24 object-contain transition-transform group-hover:scale-110 drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]\"\r\n            />\r\n          </Link>\r\n\r\n          {/* --- SEARCH & FILTER SECTION --- */}\r\n          <div className=\"flex-1 w-full md:max-w-xl flex flex-col gap-3\">\r\n            \r\n            {/* Search Bar */}\r\n            <div className=\"relative group\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground group-focus-within:text-primary transition-colors\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search cards...\"\r\n                value={searchQuery}\r\n                onChange={onSearchChange}\r\n                className=\"w-full h-10 bg-secondary/50 border border-white/10 rounded-full pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all text-white placeholder:text-muted-foreground\"\r\n              />\r\n              {searchQuery && (\r\n                <button \r\n                  onClick={() => {setSearchQuery(\"\"); handleUpdateParams(\"\", selectedType)}}\r\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-white\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 overflow-x-auto pb-1 scrollbar-hide\">\r\n              <div className=\"flex items-center gap-1 text-muted-foreground text-ms font-medium pr-2 border-r border-white/10 mr-2\">\r\n                <Filter className=\"w-3 h-5\" />\r\n                <span>Filter</span>\r\n              </div>\r\n              \r\n              {[\"all\", \"Monster\", \"Spell\", \"Trap\"].map((type) => (\r\n                <button\r\n                  key={type}\r\n                  onClick={() => onTypeChange(type)}\r\n                  className={`\r\n                    px-4 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap border\r\n                    ${selectedType === type \r\n                      ? \"bg-blue-600 border-blue-500 text-white shadow-[0_0_10px_rgba(37,99,235,0.5)]\" \r\n                      : \"bg-secondary/30 border-white/5 text-muted-foreground hover:bg-secondary hover:text-white\"\r\n                    }\r\n                  `}\r\n                >\r\n                  {type === \"all\" ? \"All Cards\" : type}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AALA;;;;;;AAOO,SAAS;IACd,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,WAAW,IAAA,iJAAW;IAE5B,oCAAoC;IACpC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,kEAAkE;IAClE,IAAA,kNAAS,EAAC;QACR,MAAM,IAAI,aAAa,GAAG,CAAC,QAAQ;QACnC,MAAM,OAAO,aAAa,GAAG,CAAC,WAAW;QACzC,eAAe;QACf,gBAAgB;IAClB,GAAG;QAAC;KAAa;IAEjB,+BAA+B;IAC/B,MAAM,qBAAqB,CAAC,WAAmB;QAC7C,iEAAiE;QACjE,IAAI,aAAa,UAAU;YACzB,OAAO,IAAI,CAAC,CAAC,SAAS,EAAE,UAAU,MAAM,EAAE,SAAS;YACnD;QACF;QAEA,yDAAyD;QACzD,OAAO,OAAO,CAAC,CAAC,SAAS,EAAE,UAAU,MAAM,EAAE,SAAS;IACxD;IAEA,MAAM,iBAAiB,CAAC;QACtB,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK;QAC1B,eAAe;QACf,mBAAmB,KAAK;IAC1B;IAEA,MAAM,eAAe,CAAC;QACpB,gBAAgB;QAChB,mBAAmB,aAAa;IAClC;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAU;kCACvB,cAAA,8OAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;;;;;;kCAKd,8OAAC;wBAAI,WAAU;;0CAGb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,gNAAM;wCAAC,WAAU;;;;;;kDAClB,8OAAC;wCACC,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU;wCACV,WAAU;;;;;;oCAEX,6BACC,8OAAC;wCACC,SAAS;4CAAO,eAAe;4CAAK,mBAAmB,IAAI;wCAAa;wCACxE,WAAU;kDAEV,cAAA,8OAAC,iMAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAKnB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,gNAAM;gDAAC,WAAU;;;;;;0DAClB,8OAAC;0DAAK;;;;;;;;;;;;oCAGP;wCAAC;wCAAO;wCAAW;wCAAS;qCAAO,CAAC,GAAG,CAAC,CAAC,qBACxC,8OAAC;4CAEC,SAAS,IAAM,aAAa;4CAC5B,WAAW,CAAC;;oBAEV,EAAE,iBAAiB,OACf,iFACA,2FACH;kBACH,CAAC;sDAEA,SAAS,QAAQ,cAAc;2CAV3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBvB"}}]
}