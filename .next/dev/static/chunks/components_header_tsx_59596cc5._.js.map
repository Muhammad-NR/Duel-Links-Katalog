{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Rizky/Downloads/yu-gi-oh-duel-links-catalog/components/header.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect, Suspense } from \"react\"\r\nimport { useRouter, useSearchParams, usePathname } from \"next/navigation\"\r\nimport Link from \"next/link\"\r\nimport Image from \"next/image\" // <--- IMPORT PENTING\r\nimport { Search, Filter, X } from \"lucide-react\"\r\n\r\n// --- KOMPONEN ISI (LOGIC) ---\r\nfunction HeaderContent() {\r\n  const router = useRouter()\r\n  const searchParams = useSearchParams() \r\n  const pathname = usePathname()\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\")\r\n  const [selectedType, setSelectedType] = useState(\"all\")\r\n\r\n  useEffect(() => {\r\n    const q = searchParams.get(\"q\") || \"\"\r\n    const type = searchParams.get(\"type\") || \"all\"\r\n    setSearchQuery(q)\r\n    setSelectedType(type)\r\n  }, [searchParams])\r\n\r\n  const handleUpdateParams = (newSearch: string, newType: string) => {\r\n    // Jika user sedang tidak di halaman /cards, pindahkan ke sana\r\n    if (pathname !== \"/cards\") {\r\n      router.push(`/cards?q=${newSearch}&type=${newType}`)\r\n      return\r\n    }\r\n    \r\n    // Jika sudah di /cards, replace URL saja agar history tidak numpuk\r\n    router.replace(`/cards?q=${newSearch}&type=${newType}`)\r\n  }\r\n\r\n  const onSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const val = e.target.value\r\n    setSearchQuery(val)\r\n    handleUpdateParams(val, selectedType)\r\n  }\r\n\r\n  const onTypeChange = (type: string) => {\r\n    setSelectedType(type)\r\n    handleUpdateParams(searchQuery, type)\r\n  }\r\n\r\n  return (\r\n    <header className=\"fixed top-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-md border-b border-white/10 shadow-xl pt-safe\">\r\n      <div className=\"max-w-6xl mx-auto px-4 py-3\">\r\n        <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n          \r\n          {/* --- LOGO SECTION --- */}\r\n          <Link href=\"/\" className=\"flex-shrink-0 group\">\r\n            {/* PERBAIKAN: Menggunakan Next.js Image dengan 'priority'.\r\n                Width & Height diset rasional, tapi class 'w-auto' menjaga aspek rasio.\r\n            */}\r\n            <Image \r\n              src=\"/YuGiOh_Duel_Links.png\" \r\n              alt=\"Yu-Gi-Oh! Catalog\" \r\n              width={200} // Estimasi lebar, CSS akan mengaturnya jadi auto\r\n              height={96} // 96px setara h-24\r\n              priority    // <--- SOLUSI MASALAH PRELOAD KAMU\r\n              className=\"h-24 w-auto object-contain transition-transform group-hover:scale-110 drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]\"\r\n            />\r\n          </Link>\r\n\r\n          {/* --- SEARCH & FILTER SECTION --- */}\r\n          <div className=\"flex-1 w-full md:max-w-xl flex flex-col gap-3\">\r\n            \r\n            {/* Search Bar */}\r\n            <div className=\"relative group\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground group-focus-within:text-primary transition-colors\" />\r\n              <input\r\n                suppressHydrationWarning \r\n                type=\"text\"\r\n                placeholder=\"Search cards...\"\r\n                value={searchQuery}\r\n                onChange={onSearchChange}\r\n                className=\"w-full h-10 bg-secondary/50 border border-white/10 rounded-full pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all text-white placeholder:text-muted-foreground\"\r\n              />\r\n              {searchQuery && (\r\n                <button \r\n                  suppressHydrationWarning\r\n                  onClick={() => {setSearchQuery(\"\"); handleUpdateParams(\"\", selectedType)}}\r\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-white\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Filter Buttons */}\r\n            <div className=\"flex items-center gap-2 overflow-x-auto pb-1 scrollbar-hide\">\r\n              <div className=\"flex items-center gap-1 text-muted-foreground text-ms font-medium pr-2 border-r border-white/10 mr-2\">\r\n                <Filter className=\"w-3 h-5\" />\r\n                <span>Filter</span>\r\n              </div>\r\n              \r\n              {[\"all\", \"Monster\", \"Spell\", \"Trap\"].map((type) => (\r\n                <button\r\n                  key={type}\r\n                  suppressHydrationWarning\r\n                  onClick={() => onTypeChange(type)}\r\n                  className={`\r\n                    px-4 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap border\r\n                    ${selectedType === type \r\n                      ? \"bg-blue-600 border-blue-500 text-white shadow-[0_0_10px_rgba(37,99,235,0.5)]\" \r\n                      : \"bg-secondary/30 border-white/5 text-muted-foreground hover:bg-secondary hover:text-white\"\r\n                    }\r\n                  `}\r\n                >\r\n                  {type === \"all\" ? \"All Cards\" : type}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\n// --- MAIN EXPORT ---\r\nexport function Header() {\r\n  return (\r\n    <Suspense fallback={<div className=\"fixed top-0 left-0 right-0 z-50 h-24 bg-black/90 border-b border-white/10\" />}>\r\n      <HeaderContent />\r\n    </Suspense>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA,kOAA+B,sBAAsB;AACrD;AAAA;AAAA;;;AANA;;;;;;AAQA,+BAA+B;AAC/B,SAAS;;IACP,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,WAAW,IAAA,oJAAW;IAE5B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,IAAA,0KAAS;mCAAC;YACR,MAAM,IAAI,aAAa,GAAG,CAAC,QAAQ;YACnC,MAAM,OAAO,aAAa,GAAG,CAAC,WAAW;YACzC,eAAe;YACf,gBAAgB;QAClB;kCAAG;QAAC;KAAa;IAEjB,MAAM,qBAAqB,CAAC,WAAmB;QAC7C,8DAA8D;QAC9D,IAAI,aAAa,UAAU;YACzB,OAAO,IAAI,CAAC,CAAC,SAAS,EAAE,UAAU,MAAM,EAAE,SAAS;YACnD;QACF;QAEA,mEAAmE;QACnE,OAAO,OAAO,CAAC,CAAC,SAAS,EAAE,UAAU,MAAM,EAAE,SAAS;IACxD;IAEA,MAAM,iBAAiB,CAAC;QACtB,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK;QAC1B,eAAe;QACf,mBAAmB,KAAK;IAC1B;IAEA,MAAM,eAAe,CAAC;QACpB,gBAAgB;QAChB,mBAAmB,aAAa;IAClC;IAEA,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCAGb,6LAAC,0KAAI;wBAAC,MAAK;wBAAI,WAAU;kCAIvB,cAAA,6LAAC,2IAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,QAAQ;4BACR,WAAU;;;;;;;;;;;kCAKd,6LAAC;wBAAI,WAAU;;0CAGb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,mNAAM;wCAAC,WAAU;;;;;;kDAClB,6LAAC;wCACC,wBAAwB;wCACxB,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU;wCACV,WAAU;;;;;;oCAEX,6BACC,6LAAC;wCACC,wBAAwB;wCACxB,SAAS;4CAAO,eAAe;4CAAK,mBAAmB,IAAI;wCAAa;wCACxE,WAAU;kDAEV,cAAA,6LAAC,oMAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAMnB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,mNAAM;gDAAC,WAAU;;;;;;0DAClB,6LAAC;0DAAK;;;;;;;;;;;;oCAGP;wCAAC;wCAAO;wCAAW;wCAAS;qCAAO,CAAC,GAAG,CAAC,CAAC,qBACxC,6LAAC;4CAEC,wBAAwB;4CACxB,SAAS,IAAM,aAAa;4CAC5B,WAAW,CAAC;;oBAEV,EAAE,iBAAiB,OACf,iFACA,2FACH;kBACH,CAAC;sDAEA,SAAS,QAAQ,cAAc;2CAX3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBvB;GAhHS;;QACQ,kJAAS;QACH,wJAAe;QACnB,oJAAW;;;KAHrB;AAmHF,SAAS;IACd,qBACE,6LAAC,yKAAQ;QAAC,wBAAU,6LAAC;YAAI,WAAU;;;;;;kBACjC,cAAA,6LAAC;;;;;;;;;;AAGP;MANgB"}}]
}